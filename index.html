<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LP Affiliates Manager</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <div class="container">
    <button class="how-to-use-btn" id="howToUseBtn" aria-label="How to Use">?</button>
    <h1>LP Affiliates Manager</h1>
    <form onsubmit="handleSubmit(event)">
      <fieldset>
        <legend class="options-title">Options:</legend>
        <div class="options-row">
          <div class="checkbox-container">
            <input type="checkbox" id="updateProbabilityChecked" onchange="toggleInputFields()">
            <label class="option-label" for="updateProbabilityChecked">Update Zero Probabilities to 0.01</label>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="removeChecked" onchange="toggleInputFields()">
            <label class="option-label" for="removeChecked">Remove Currencies</label>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="addChecked" onchange="toggleInputFields()">
            <label class="option-label" for="addChecked">Add Currencies</label>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="addCountriesChecked" onchange="toggleInputFields()">
            <label class="option-label" for="addCountriesChecked">Add Supported Countries</label>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="removeCountriesChecked" onchange="toggleInputFields()">
            <label class="option-label" for="removeCountriesChecked">Remove Supported Countries</label>
          </div>
        </div>
      </fieldset>
      <div class="options-row">
        <label class="option-label" for="affiliates">Affiliates (comma separated):</label><br>
        <input type="text" id="affiliates"><br><br>
      </div>
      <label for="lpInput">LP (JSON):</label><br>
      <textarea id="lpInput" rows="10" cols="50"></textarea><br>
      <div id="currenciesToRemoveContainer" style="display:none;">
        <label for="currenciesToRemove">Currencies to Remove (JSON Array):</label><br>
        <textarea id="currenciesToRemove" rows="3" cols="50"></textarea><br><br>
      </div>
      <div id="currenciesToAddContainer" style="display:none;">
        <label for="currenciesToAdd">Currencies to Add (JSON Array):</label><br>
        <textarea id="currenciesToAdd" rows="3" cols="50"></textarea><br><br>
      </div>
      <div id="countriesToAddContainer" style="display:none;">
        <label for="countriesToAdd">Countries to Add (JSON Array):</label><br>
        <textarea id="countriesToAdd" rows="3" cols="50"></textarea><br><br>
      </div>
      <div id="countriesToRemoveContainer" style="display:none;">
        <label for="countriesToRemove">Countries to Remove (JSON Array):</label><br>
        <textarea id="countriesToRemove" rows="3" cols="50"></textarea><br><br>
      </div>
      <input type="submit" value="Update Affiliates" id="updateAffiliates" disabled>
    </form>
    <h2>Result:</h2>
    <button onclick="copyResult()" id="copyResult" disabled>Copy Result</button>
    <pre id="result"></pre>
  </div>

  <div id="howToUseModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h3>How to Use</h3>
      <p>The LP Affiliates Manager is a tool for managing the supported digital currencies and countries for affiliates. It allows for the addition or removal of currencies and countries based on affiliate names.</p>
      <h3>Usage Instructions</h3>
      <ol>
        <li><strong>Affiliates:</strong> List the affiliates to update, separated by commas. Leave blank to apply changes to all affiliates.<br><br><em>Example: affiliate1, affiliate2</em><br><br></li>
        <li><strong>LP Data:</strong> Input the JSON object containing affiliate data in the LP (JSON) field.<br><br><em>Example: <code>{"affiliates": {"affiliate1": {"supported_digital_currencies": ["BTC", "ETH"], "supported_countries": ["US", "CA"]}}}</code></em><br><br></li>
        <li><strong>Remove Currencies:</strong> To remove currencies, check the box and enter the currencies as a JSON array.<br><br><em>Example: <code>["BTC", "ETH"]</code></em><br><br></li>
        <li><strong>Add Currencies:</strong> To add currencies, check the box and enter the currencies as a JSON array.<br><br><em>Example: <code>["XRP", "LTC"]</code></em><br><br></li>
        <li><strong>Add Supported Countries:</strong> To add countries, check the box and provide the countries as a JSON array.<br><br><em>Example: <code>["DE", "FR"]</code></em><br><br></li>
        <li><strong>Remove Supported Countries:</strong> To remove countries, check the box and provide the countries as a JSON array. If the supported_countries field is missing or equals ["base_countries"], no changes will be made.<br><br><em>Example: <code>["US", "CA"]</code></em><br><br></li>
        <li><strong>Submit:</strong> Click "Update Affiliates" to apply changes. The result will be displayed in the Result section.<br><br></li>
        <li><strong>Copy Result:</strong> Use the "Copy Result" button to copy the updated LP data.</li>
      </ol>
    </div>

  </div>

  <script src="js/script.js"></script>
</body>

</html>
